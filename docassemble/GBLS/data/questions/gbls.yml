---
include:
  - docassemble.AssemblyLine:assembly_line.yml
---
metadata:
  title: |
    Fill in the blanks
---
objects:
  clients: ALPeopleList.using(there_are_any=False)
  attorneys: ALPeopleList.using(there_are_any=False)
---
mandatory: True
code: |
  al_intro_screen
  gbls_intro_screen
  
  clients[0].name
  attorneys[0].name
  
  if document_list['Plain_Language_Retainer']:
    Plain_Language_Retainer_Document
  if document_list['No_Contact_Letter_Working']:
    No_Contact_Letter_Working_Document
  if document_list['No_Contact_Letter']:
    No_Contact_Letter_Document
  if document_list['Letter_to_client_to_prepare_for_interview']:
    Letter_to_client_to_prepare_for_interview_Document
  if document_list['Letter_to_client_sending_Discharge_working']:
    Letter_to_client_sending_Discharge_working_Document
  if document_list['Letter_to_Client_re_Telephonic_Working']:
    Letter_to_Client_re_Telephonic_Working_Document
  if document_list['Letter_to_Client_Final_Credit_Report_Working']:
    Letter_to_Client_Final_Credit_Report_Working_Document
  if document_list['General_Release_Working']:
    General_Release_Working_Document
  if document_list['Closing_letter_GLBS_LL_Draft']:
    Closing_letter_GLBS_LL_Draft_Docuemnt
  if document_list['Client_Appointment_Reminder_Working']:
    Client_Appointment_Reminder_Working_Document
  if document_list['Affirmative_Debt_Collection_Working_Draft']:
    Affirmative_Debt_Collection_Working_Draft_Document
    
  signature_date
  gbls_download   
---
code: |
  legal_problems
  Plain_Language_Retainer_Document=True
---
code: | 
  clients[0].address
  No_Contact_Letter_Working_Document=True
---
code: | 
  No_Contact_Letter_Document=True
---
code: | 
  document
  Letter_to_client_to_prepare_for_interview_Document=True
---
code: | 
  Letter_to_client_sending_Discharge_working_Document=True
---
code: | 
  Letter_to_Client_re_Telephonic_Working_Document=True
---
code: | 
  Letter_to_Client_Final_Credit_Report_Working_Document=True
---
code: | 
  General_Release_Working_Document=True
---
code: | 
  Closing_letter_GLBS_LL_Draft_Document=True
---
code: | 
  Client_Appointment_Reminder_Working_Document=True
---
code: | 
  Affirmative_Debt_Collection_Working_Draft_Document=True
---
id: gbls intro
continue button field: gbls_intro_screen
question: | 
  Financial Forms
subquestion: |
  This form can help you prepare the following financial forms: 
  
    * Affirmative Debt Collection Working Draft
    
    * Client Appointment Reminder Working
    
    * Closing letter GLBS LL Draft
    
    * General Release Working
    
    * Letter to Client Final Credit Report Working
    
    * Letter to Client re Telephonic Working
    
    * Letter to client sending Discharge working
    
    * Letter to client to prepare for interview
    
    * No Contact Letter
    
    * No Contact Letter Working
    
    * Plain Language Retainer
---
id: gbs document list
question: |
  Which financia documents do you need?
fields:
  - Financial documents: document_list
    datatype: checkboxes
    choices: 
      - Affirmative Debt Collection Working Draft: Affirmative_Debt_Collection_Working_Draft
      - Client Appointment Reminder Working: Client_Appointment_Reminder_Working
      - Closing letter GLBS LL Draft: Closing_letter_GLBS_LL_Draft
      - General Release Working: General_Release_Working
      - Letter to Client Final Credit Report Working: Letter_to_Client_Final_Credit_Report_Working
      - Letter to Client re Telephonic Working: Letter_to_Client_re_Telephonic_Working
      - Letter to client sending Discharge working: Letter_to_client_sending_Discharge_working
      - Letter to client to prepare for interview: Letter_to_client_to_prepare_for_interview
      - No Contact Letter: No_Contact_Letter
      - No Contact Letter Working: No_Contact_Letter_Working
      - Plain Language Retainer: Plain_Language_Retainer
    none of the above: false
---
id: legal problems
question: |
  What is the legal problem that you have?
fields:
  - no label: legal_problems
---
id: letter to client to prepare for interview
question: |
  Below are the different options for the interview. Choose the one that applies to you.
fields:
  - no label: Documents_for_interview
    datatype: checkboxes
    choices:
      - Social Security Card or letter from Social Security showing your Social Security number: social_security
      - Driverâ€™s license or other Picture ID: license
      -	Any papers concerning your debts: papers_concerning_debts
      -	Any papers concerning any lawsuits that you are involved in: papers_concerning_lawsuits
      -	If you are divorced, copy of divorce decree and any child support or alimony orders: copy_of_divorce_decree
      -	Copies of your bank statements if you have a bank account. Please bring statements for up to a year ago, if you have them. More recent statements are more important: copy_of_bank_statements
      -	Copies of your pay stubs for this year if you are working: copy_of_pay_stubs
      -	If you receive social security or a pension or unemployment or any type of welfare payments, documents showing your payments: documents_concerning_welfare
      -	Tax returns for last two years if you filed taxes: tax_returns

---
id: download template
event: download_template
question: |
  Your template is ready
attachment: 
  docx template file:
    code: |
      template_to_fill[0]
---
code: |
  Affirmative_Debt_Collection_Working_Draft.enabled = document_list['Affirmative_Debt_Collection_Working_Draft']
---
code: |
  Client_Appointment_Reminder_Working.enabled = document_list['Client_Appointment_Reminder_Working']
---
code: |
  Closing_letter_GLBS_LL_Draft.enabled = document_list['Closing_letter_GLBS_LL_Draft']
---
code: |
  General_Release_Working.enabled = document_list['General_Release_Working']
---
code: |
  Letter_to_Client_Final_Credit_Report_Working.enabled = document_list['Letter_to_Client_Final_Credit_Report_Working']
---
code: |
  Letter_to_Client_re_Telephonic_Working.enabled = document_list['Letter_to_Client_re_Telephonic_Working']
---
code: |
  Letter_to_client_sending_Discharge_working.enabled = document_list['Letter_to_client_sending_Discharge_working']
---
code: |
  Letter_to_client_to_prepare_for_interview.enabled = document_list['Letter_to_client_to_prepare_for_interview']
---
code: |
  No_Contact_Letter.enabled = document_list['No_Contact_Letter']
---
code: |
  No_Contact_Letter_Working.enabled = document_list['No_Contact_Letter_Working']
---
code: |
  Plain_Language_Retainer.enabled = document_list['Plain_Language_Retainer']
---
#---
#code: |
#  if user_has_privilege(['developer', 'admin']):
#    all_answer_sets = get_saved_interview_list(filename="docassemble.AssemblyLine:al_saved_sessions_store.yml", user_id="all", exclude_newly_started_sessions=False)
#  else:
#    all_answer_sets = get_saved_interview_list(filename="docassemble.AssemblyLine:al_saved_sessions_store.yml", exclude_newly_started_sessions=False)
#---
#code: |
#  load_interview_answers(all_answer_sets[int(selected_answers)]["filename"], all_answer_sets[int(selected_answers)]["key"])
#  load_existing_answers = True
#---
###################### Catchall questions ###########################################
#---
#generic object: DACatchAll
#question: |
#  What is ${ x.object_name() }?
#fields:
#  - no label: x.value
#validation code: |
#  define(x.instanceName, x.value)
#---
#if: |
#  x.context == 'float'
#generic object: DACatchAll
#question: |
#  How much is ${ x.object_name() }?
#fields:
#  - Amount: x.value
#    datatype: currency
#validation code: |
#  define(x.instanceName, x.value)
#---
#if: |
#  x.data_type_guess() == 'bool'
#generic object: DACatchAll
#question: |
#  ${x.object_name()}?
#yesno: x.value
#validation code: |
#  define(x.instanceName, x.value)
#---
#if: |
#  x.object_name().endswith('date')
#generic object: DACatchAll
#question: |
#  ${x.object_name()}?
#fields:
#  - Date: x.value
#    datatype: date
#validation code: |
#  define(x.instanceName, x.value)
#---
attachments:
  - name: Affirmative Debt Collection Working Draft
    filename: Affirmative_Debt_Collection_Working_Draft.docx    
    variable name: Affirmative_Debt_Collection_Working_Draft[i]      
    skip undefined: True
    docx template file: Affirmative_Debt_Collection_Working_Draft.docx 
    
  - name: Client Appointment Reminder Working
    filename: Client_Appointment_Reminder_Working.docx 
    variable name: Client_Appointment_Reminder_Working[i]      
    skip undefined: True
    docx template file: Client_Appointment_Reminder_Working.docx
  
  - name: Closing letter GLBS LL Draft
    filename: Closing_letter_GLBS_LL_Draft.docx   
    variable name: Closing_letter_GLBS_LL_Draft[i]     
    skip undefined: True
    docx template file: Closing_letter_GLBS_LL_Draft.docx
    
  - name: General Release Working
    filename: General_Release_Working.docx  
    variable name: General_Release_Working[i]      
    skip undefined: True
    docx template file: General_Release_Working.docx
    
  - name: Letter to Client Final Credit Report Working
    filename: Letter_to_Client_Final_Credit_Report_Working.docx  
    variable name: Letter_to_Client_Final_Credit_Report_Working[i]      
    skip undefined: True
    docx template file: Letter_to_Client_Final_Credit_Report_Working.docx

  - name: Letter to Client re Telephonic Working
    filename: Letter_to_Client_re_Telephonic_Working.docx  
    variable name: Letter_to_Client_re_Telephonic_Working[i]      
    skip undefined: True
    docx template file: Letter_to_Client_re_Telephonic_Working.docx
    
  - name: Letter to client sending Discharge working
    filename: Letter_to_client_sending_Discharge_working.docx  
    variable name: Letter_to_client_sending_Discharge_working[i]      
    skip undefined: True
    docx template file: Letter_to_client_sending_Discharge_working.docx  
    
  - name: Letter to client to prepare for interview
    filename: Letter_to_client_to_prepare_for_interview.docx  
    variable name: Letter_to_client_to_prepare_for_interview[i]      
    skip undefined: True
    docx template file: Letter_to_client_to_prepare_for_interview.docx
    
  - name: No Contact Letter
    filename: No_Contact_Letter.docx  
    variable name: No_Contact_Letter[i]      
    skip undefined: True
    docx template file: No_Contact_Letter.docx
    
  - name: No Contact Letter Working
    filename: No_Contact_Letter_Working.docx  
    variable name: No_Contact_Letter_Working[i]      
    skip undefined: True
    docx template file: No_Contact_Letter_Working.docx
    
  - name: Plain Language Retainer
    filename: Plain_Language_Retainer.docx  
    variable name: Plain_Language_Retainer[i]      
    skip undefined: True
    docx template file: Plain_Language_Retainer.docx
---
objects:
  - Plain_Language_Retainer: ALDocument.using(title="Plain Language Retainer", filename="Plain_Language_Retainer.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - No_Contact_Letter_Working: ALDocument.using(title="No Contact Letter Working", filename="No_Contact_Letter_Working.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - No_Contact_Letter: ALDocument.using(title="No Contact Letter", filename="No_Contact_Letter.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)  
  - Letter_to_client_to_prepare_for_interview: ALDocument.using(title="Letter to client to prepare for interview", filename="Letter_to_client_to_prepare_for_interview.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - Letter_to_client_sending_Discharge_working: ALDocument.using(title="Letter to client sending Discharge working", filename="Letter_to_client_sending_Discharge_working.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - Letter_to_Client_re_Telephonic_Working: ALDocument.using(title="Letter to Client re Telephonic Working", filename="Letter_to_Client_re_Telephonic_Working.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - Letter_to_Client_Final_Credit_Report_Working: ALDocument.using(title="Letter to Client Final Credit Report Working", filename="Letter_to_Client_Final_Credit_Report_Working.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - General_Release_Working: ALDocument.using(title="General Release Working", filename="General_Release_Working.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - Closing_letter_GLBS_LL_Draft: ALDocument.using(title="Closing letter GLBS LL Draft", filename="Closing_letter_GLBS_LL_Draft.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - Client_Appointment_Reminder_Working: ALDocument.using(title="Client Appointment Reminder Working", filename="Client_Appointment_Reminder_Working.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
  - Affirmative_Debt_Collection_Working_Draft: ALDocument.using(title="Affirmative Debt Collection Working Draft", filename="Affirmative_Debt_Collection_Working_Draft.docx", has_addendum=False, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  
---
objects:
 - al_user_bundle: ALDocumentBundle.using(elements=[Plain_Language_Retainer, No_Contact_Letter_Working, No_Contact_Letter, Letter_to_client_to_prepare_for_interview, Letter_to_client_to_prepare_for_interview, Letter_to_client_sending_Discharge_working, Letter_to_Client_re_Telephonic_Working, Letter_to_Client_Final_Credit_Report_Working, General_Release_Working, Closing_letter_GLBS_LL_Draft, Client_Appointment_Reminder_Working, Affirmative_Debt_Collection_Working_Draft], filename="financial_documents.docx", title="All forms to download for your records", enabled=True) 
 - al_court_bundle: ALDocumentBundle.using(elements=[Plain Language Retainer, No Contact Letter Working, No Contact Letter, Letter to client to prepare for interview, Letter to client to prepare for interview, Letter to client sending Discharge working, Letter to Client re Telephonic Working, Letter to Client Final Credit Report Working, General Release Working, Closing letter GLBS LL Draft, Client Appointment Reminder Working, Affirmative Debt Collection Working Draft], filename="financial_documents.docx", title="All forms to download for your records", enabled=True)
---
id: download documents
event: gbls_download
question: |
  All done
subquestion: |
  
  ${ al_user_bundle.download_list_html() }
  

  ${ al_user_bundle.send_button_html(show_editable_checkbox=True) }

progress: 100